(function(e,n){typeof exports=="object"&&typeof module<"u"?n(exports):typeof define=="function"&&define.amd?define(["exports"],n):(e=typeof globalThis<"u"?globalThis:e||self,n(e.Yuppee={}))})(this,function(e){"use strict";const n=({migrations:t,init:l})=>{const p=t?Math.max(...t.map(i=>i.to)):void 0;return(i={...l(),version:1})=>{const o=i.version,s=p??o;if(typeof o!="number")throw new Error(`Expected object with version number but version was ${o}`);if(o>s)throw new Error(`Cannot process state with version ${o}, highest known version is ${s}`);if(o===s)return{...i,version:s};let u=i;for(let r=o;r<s;){const f=t==null?void 0:t.filter(c=>c.from===r&&c.to>r).sort((c,v)=>c.to>v.to?-1:1).at(0);if(f)u={...f.migrate(u),version:f.to},r=f.to;else throw new Error(`Migration from v${r} to v${r+1} missing`)}return u}},h=t=>t;e.createMigration=h,e.createMigrator=n,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=yuppee.umd.cjs.map
